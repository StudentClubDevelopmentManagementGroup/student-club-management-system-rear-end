<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <title>测试 - 文件存储</title>

  <style>
    :root {
      --color-llight-green: #a6e9a2;
      --color-light-green: #2eb526;
      --color-green: #09a800;
    }

    body {
      margin: 0;
      display: flex;
    }
  </style>

  <style>
    form.green_form {
      margin: 8px;
      margin-right: 2px;
      font-size: 17px;
      height: fit-content;
      width: 19em;
      display: flex;
      flex-direction: column;
      border: 1.5px solid var(--color-green);
      padding-bottom: 0.2em;
    }
    form.green_form > h1 {
      margin: 0 0 0.5em 0;
      padding: 0.2em 0 0.3em 0.5em;
      font-size: 1em;
      color: white;
      background-color: var(--color-green);
    }
    form.green_form > label {
      display: flex;
      padding: 0.2em 0.5em;
    }
    form.green_form > label > span {
      width: 6em;
    }
    form.green_form > label > input[type="file"] {
      cursor: pointer;
    }
    form.green_form > label > input[type="file"]::file-selector-button {
      display: none;
    }
    form.green_form > label > select {
      flex: 1;
      padding-left: 0.2em;
      border: 1px solid var(--color-green);
      outline: none;
    }
    form.green_form > label > select > option {
      font-size: 1.2em;
    }
    form.green_form > label > input {
      flex: 1;
      padding-left: 0.5em;
      border: 1px solid var(--color-green);
      outline: none;
    }
    form.green_form > label input[type="checkbox"] {
      display: none;
    }
    form.green_form > label input[type="checkbox"] + span {
      display: inline-block;
      height: 1em;
      width: 1em;
      border: 1px solid var(--color-green);
      cursor: pointer;
    }
    form.green_form > label input[type="checkbox"]:checked + span {
      background-color: var(--color-llight-green);
    }
    form.green_form > label > button {
      width: fit-content;
      margin-left: auto;
      margin-right: 0;
      padding: 0.3em 1.2em;
      color: white;
      background-color: var(--color-green);
      border: 1px solid var(--color-green);
      font-size: 14px;
      cursor: pointer;
    }
    form.green_form > label > button:hover {
      background-color: var(--color-light-green);
    }
    form.green_form > label > button:active {
      color: var(--color-green);
      background-color: white;
    }
    
    div#output {
      margin: 8px;
      margin-left: 2px;
      flex: 1;
      border: 1.5px solid var(--color-green);
    }
    div#output > iframe {
      width: 100%;
      height: 100%;
      border: none;
    }
  </style>
</head>

<body>

  <div style="overflow-y: scroll; height: 100lvh;">
    <form action="/upload_file" method="post" enctype="multipart/form-data" target="output"
      class="green_form">
      <h1>上传文件</h1>
      <label for=""><span>选择文件</span>
        <input class="green-input" type="file" name="file">
      </label>
      <label><span>上传至</span>
        <select name="storage_type">
          <option value="LOCAL">本地文件系统</option>
          <option value="CLOUD">云存储空间</option>
        </select>
      </label>
      <label><span>指定目录</span>
        <input type="text" name="folder" placeholder="不指定则默认存储至根目录">
      </label>
      <label><span>重命名文件</span>
        <input type="text" name="filename" placeholder="不指定则默认使用原文件名">
      </label>
      <label for=""><span>覆盖</span>
        <label>
          <input type="checkbox" name="overwrite" va><span></span>
        </label>
      </label>
      <label for="">
        <button type="submit">上传文件</button>
      </label>
    </form>

    <form action="" method="get" target="output"
      class="green_form">
      <h1>获取访问已上传的文件</h1>
      <label><span>file_id</span>
        <input type="text" name="file_id">
      </label>
      <label for="">
        <button type="submit" formaction="/get_uploaded_file_url">获取URL</button>
        <button type="submit" formaction="/get_uploaded_file" style="margin-left: 1em;;">获取文件</button>
      </label>
    </form>

    <form action="/delete_uploaded_file" method="post" target="output"
      class="green_form">
      <h1>删除已上传的文件</h1>
      <label><span>file_id</span>
        <input type="text" name="file_id">
      </label>
      <label for="">
        <button type="submit">删除文件</button>
      </label>
    </form>

    <form action="/" method="get" target="output"
      class="green_form">
      <h1>swagger</h1>
      <label for="">
        <button type="submit" formaction="/swagger-ui/index.html">跳转</button>
        <button type="submit" formaction="/html/test/swagger-with-login.html" style="margin-left: 1em;">跳转（快速登录）</button>
      </label>
    </form>

  </div>

  <div id="output" >
    <iframe name="output"></iframe>
  </div>

</body>
</html>
